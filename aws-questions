### **1. What is Amazon EC2 and why is it used?**

**Answer:**
Amazon EC2 (Elastic Compute Cloud) provides scalable virtual servers in AWS.

* **Use Cases:** Hosting applications, testing, development, backup servers, etc.
* **Features:** Pay-as-you-go, elasticity, various instance types.

---

### **2. What are the different EC2 instance types?**

**Answer:**

* **General Purpose:** (t2, t3, m5) – Balanced.
* **Compute Optimized:** (c5) – High CPU.
* **Memory Optimized:** (r5, x1) – High RAM.
* **Storage Optimized:** (i3) – High IOPS.
* **Accelerated Computing:** (p3, g4) – GPUs.

---

### **3. What are EC2 pricing models?**

**Answer:**

* **On-Demand:** Pay per hour/second.
* **Reserved:** 1/3-year term, cheaper.
* **Spot:** Bid-based, cheapest but can be interrupted.
* **Dedicated Hosts/Instances:** For compliance and licensing.

---

### **4. Explain Security Groups vs Network ACLs in EC2.**

**Answer:**

* **Security Group:** Stateful, instance-level firewall.
* **NACL:** Stateless, subnet-level firewall.
* **Key Difference:** SG allows only allow rules, NACL allows both allow/deny.

---

### **5. What are EC2 key pairs and why are they important?**

**Answer:**

* Key pairs consist of a **private key** (PEM file) and a **public key** stored in AWS.
* Used for secure SSH login to Linux instances.

---

### **6. How do you connect to an EC2 instance?**

**Answer:**

* For Linux: `ssh -i mykey.pem ec2-user@<public-ip>`
* For Windows: Use RDP with `.pem` → `.ppk` conversion (if PuTTY).

---

### **7. What is an Elastic IP in EC2?**

**Answer:**

* Static IPv4 address that can be reassigned between instances.
* Useful for failover and DNS stability.

---

### **8. Explain EC2 Instance Store vs EBS.**

**Answer:**

* **Instance Store:** Temporary storage, deleted when instance stops/terminates.
* **EBS:** Persistent block storage, survives instance stop/start.

---

### **9. Can you change the instance type of a running EC2 instance?**

**Answer:**

* **No**, you must **stop** the instance, change the type, then **start** it again.

---

### **10. How does Auto Recovery work in EC2?**

**Answer:**

* Detects instance health (via CloudWatch) and automatically recovers it in case of hardware failure (keeps the same instance ID, IPs, and volumes).

---

### **11. Scenario: Your EC2 instance is unreachable. How do you troubleshoot?**

**Answer:**

* Check security group & NACL rules.
* Check route table for IGW.
* Verify instance status checks.
* Inspect OS firewall (iptables).
* Check correct key pair and correct public IP.

---

### **12. What are EC2 instance status checks?**

**Answer:**

* **System Status Check:** AWS infrastructure issues.
* **Instance Status Check:** OS-level issues.

---

### **13. What is an EC2 placement group and its types?**

**Answer:**

* Controls how instances are placed across hardware.
* **Types:**

  * **Cluster:** Low-latency, same rack.
  * **Spread:** Instances across racks.
  * **Partition:** For large distributed systems.

---

### **14. How do you create a custom AMI?**

**Answer:**

* Stop EC2 → Create Image → Use for launching identical instances.
* Useful for golden images.

---

### **15. Scenario: Need to move an EC2 instance to another region.**

**Answer:**

* Create an AMI → Copy AMI to target region → Launch instance.

---

### **16. How do you attach additional storage to EC2?**

**Answer:**

* Create an EBS volume → Attach to instance → Mount and format.

---

### **17. How do you encrypt an existing unencrypted EBS volume?**

**Answer:**

* Take a snapshot → Copy snapshot with encryption → Create volume → Attach.

---

### **18. What is EC2 Hibernate and how does it differ from Stop?**

**Answer:**

* Hibernate saves RAM to EBS, resumes faster.
* Stop shuts down OS, but RAM state is lost.

---

### **19. Can you share an AMI across accounts?**

**Answer:**

* Yes, mark it as shared in permissions.
* If using an encrypted snapshot, also share the KMS key.

---

### **20. How do EC2 Spot Instances handle interruptions?**

**Answer:**

* AWS gives a 2-minute warning before terminating.
* Use Spot Instance interruption notices to gracefully handle shutdown.

---

### **21. Scenario: You need an EC2 instance to access S3 securely without storing credentials.**

**Answer:**

* Attach an IAM Role with S3 permissions to the instance.

---

### **22. How do you allow an EC2 instance in a private subnet to access the internet?**

**Answer:**

* Attach a NAT Gateway in a public subnet.
* Update route table.

---

### **23. Scenario: An instance was accidentally terminated. How can you recover data?**

**Answer:**

* If root EBS volume was not deleted, create a new instance and attach the volume.
* If no backups → data is lost.

---

### **24. How do you monitor EC2 performance?**

**Answer:**

* Use **CloudWatch** (CPU, disk, network).
* Install **CloudWatch Agent** for detailed metrics.

---

### **25. What are EC2 Capacity Reservations?**

**Answer:**

* Reserve capacity in a specific AZ for predictable workloads.

---

### **26. Scenario: How to allow only one specific IP to SSH into EC2?**

**Answer:**

* Modify Security Group:

```bash
Type: SSH, Port: 22, Source: <your-IP>/32
```

---

### **27. What are EC2 instance metadata and user data?**

**Answer:**

* **Metadata:** Instance info via `http://169.254.169.254/latest/meta-data/`.
* **User Data:** Scripts that run at instance boot for automation.

---

### **28. How do you reduce EC2 cost in a production environment?**

**Answer:**

* Use right-sizing, auto scaling, spot instances, savings plans, and schedule stop/start for non-prod.

---

### **29. Scenario: You need to run a containerized workload on EC2. Best practice?**

**Answer:**

* Use **Amazon ECS with EC2 launch type** or install Docker on EC2.

---

### **30. What are ENIs (Elastic Network Interfaces)?**

**Answer:**

* Virtual network interface attached to EC2.
* Can move between instances for failover.

---

### **31. Scenario: How to migrate EC2 instances to another VPC?**

**Answer:**

* Create AMI → Launch in new VPC → Update DNS.

---

### **32. How do you enable high availability for EC2?**

**Answer:**

* Deploy across multiple AZs.
* Use Load Balancer + Auto Scaling Group.

---

### **33. Scenario: You need to restrict EC2 instance access so that only a specific IAM user can stop/start it.**

**Answer:**

* Create a custom IAM policy allowing only `ec2:StartInstances` & `ec2:StopInstances` for that instance ARN.

---

### **34. What is the difference between EC2 Scheduled Events and Auto Scaling Scheduled Actions?**

**Answer:**

* **Scheduled Events:** AWS maintenance notifications.
* **Scheduled Actions:** User-defined scaling events.

---

### **35. How to take automatic backups of an EC2 instance?**

**Answer:**

* Use Amazon Data Lifecycle Manager (DLM) for automated snapshots.

---

### **36. Scenario: Your EC2 CPU utilization spikes suddenly. How do you investigate?**

**Answer:**

* Check CloudWatch metrics → Identify processes → Use CloudWatch Logs / SSM to debug.

---

### **37. What is an EC2 Dedicated Host vs Dedicated Instance?**

**Answer:**

* **Dedicated Host:** Physical server dedicated to you.
* **Dedicated Instance:** Runs on isolated hardware but AWS manages host placement.

---

### **38. How to migrate EC2 workloads to AWS Lambda?**

**Answer:**

* Break monolithic app → Create serverless functions → Use API Gateway.
* Not direct, requires re-architecture.

---

### **39. Scenario: Limit EC2 launch to only specific instance types in an account.**

**Answer:**

* Use IAM policies with condition:

```json
"Condition": { "StringEquals": { "ec2:InstanceType": "t3.micro" } }
```

---

### **40. How do you troubleshoot EC2 boot failures?**

**Answer:**

* Check system logs from EC2 console.
* Enable detailed monitoring.
* If corrupted, detach root volume and fix using another instance.

---
